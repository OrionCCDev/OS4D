# =====================================================
# Laravel Broadcasting Configuration
# =====================================================
# Add these variables to your .env file to enable
# real-time notifications with Laravel Broadcasting
# =====================================================

# Broadcasting Driver
# Change from 'log' to 'redis' to enable real-time broadcasting
BROADCAST_DRIVER=redis

# Queue Connection
# Use 'redis' for better performance with broadcasting
QUEUE_CONNECTION=redis

# Cache Driver
# Use 'redis' for better performance
CACHE_DRIVER=redis

# Session Driver (optional, but recommended for scalability)
SESSION_DRIVER=redis

# =====================================================
# Redis Configuration
# =====================================================

REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# Separate Redis databases for different purposes (optional but recommended)
REDIS_DB=0
REDIS_CACHE_DB=1
REDIS_QUEUE_DB=2

# =====================================================
# Pusher/WebSocket Configuration
# =====================================================
# These are used by Laravel WebSockets (Pusher protocol compatible)

PUSHER_APP_ID=12345
PUSHER_APP_KEY=your-app-key
PUSHER_APP_SECRET=your-app-secret
PUSHER_APP_CLUSTER=mt1

# =====================================================
# Vite WebSocket Configuration
# =====================================================
# Used by frontend (resources/js/echo-config.js)

VITE_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
VITE_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"
VITE_PUSHER_HOST="${APP_URL}"
VITE_PUSHER_PORT=6001
VITE_PUSHER_SCHEME=http
# For production with SSL, use: VITE_PUSHER_SCHEME=https

# =====================================================
# Laravel WebSockets Configuration
# =====================================================

LARAVEL_WEBSOCKETS_SSL_LOCAL_CERT=
LARAVEL_WEBSOCKETS_SSL_LOCAL_PK=
LARAVEL_WEBSOCKETS_SSL_PASSPHRASE=

# =====================================================
# Important Notes:
# =====================================================
#
# 1. Make sure Redis is installed and running:
#    - Ubuntu/Debian: sudo apt install redis-server
#    - macOS: brew install redis
#    - Check status: redis-cli ping (should return "PONG")
#
# 2. Make sure PHP Redis extension is installed:
#    - Check: php -m | grep redis
#    - Install: sudo apt install php-redis OR sudo pecl install redis
#
# 3. After updating .env, run:
#    - php artisan config:clear
#    - php artisan cache:clear
#    - php artisan queue:restart (if queue workers are running)
#
# 4. For production, you'll need to:
#    - Run: composer require beyondcode/laravel-websockets
#    - Run: php artisan websockets:serve (or use Supervisor)
#    - Configure Nginx to proxy WebSocket connections
#
# 5. Build frontend assets:
#    - npm install
#    - npm run build (or npm run dev for development)
#
# =====================================================
